<!DOCTYPE html>
<html>
<head>
    <title>Simple Firebase Auth Test</title>
    <script src="https://www.gstatic.com/firebasejs/4.8.2/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.8.2/firebase-auth.js"></script>
</head>
<body>
    <h2>Manual Firebase Auth Test</h2>
    
    <div id="login-form">
        <h3>Sign In</h3>
        <input type="email" id="email" placeholder="Email" style="display:block; margin:5px; padding:5px; width:300px;">
        <input type="password" id="password" placeholder="Password" style="display:block; margin:5px; padding:5px; width:300px;">
        <button onclick="signIn()" style="margin:5px; padding:10px;">Sign In</button>
        <button onclick="createAccount()" style="margin:5px; padding:10px;">Create Account</button>
    </div>
    
    <div id="status" style="margin:20px; padding:10px; border:1px solid #ccc;"></div>
    
    <script src="app/fireBase.js"></script>
    <script>
        function updateStatus(message) {
            document.getElementById('status').innerHTML = message;
            console.log(message);
        }
        
        function signIn() {
            var email = document.getElementById('email').value;
            var password = document.getElementById('password').value;
            
            updateStatus('Attempting to sign in...');
            
            firebase.auth().signInWithEmailAndPassword(email, password)
                .then(function(userCredential) {
                    updateStatus('✅ Sign in successful! User: ' + userCredential.user.email);
                    setTimeout(function() {
                        window.location.href = '/';
                    }, 2000);
                })
                .catch(function(error) {
                    updateStatus('❌ Sign in failed: ' + error.message);
                    console.error('Sign in error:', error);
                });
        }
        
        function createAccount() {
            var email = document.getElementById('email').value;
            var password = document.getElementById('password').value;
            
            updateStatus('Attempting to create account...');
            
            firebase.auth().createUserWithEmailAndPassword(email, password)
                .then(function(userCredential) {
                    updateStatus('✅ Account created! User: ' + userCredential.user.email);
                    setTimeout(function() {
                        window.location.href = '/';
                    }, 2000);
                })
                .catch(function(error) {
                    updateStatus('❌ Account creation failed: ' + error.message);
                    console.error('Account creation error:', error);
                });
        }
        
        // Check auth state
        firebase.auth().onAuthStateChanged(function(user) {
            if (user) {
                updateStatus('✅ User is signed in: ' + user.email);
            } else {
                updateStatus('ℹ️ No user signed in');
            }
        });
        
        updateStatus('Firebase initialized. Project: ' + firebase.app().options.projectId);
    </script>
</body>
</html>
